# EthVaultFactory (contract)

The `implementation` public variable is an something to pay attention to — and it is perhaps less straight-forward what it is because it is stored as an `address` rather than a specific `contract`.

Within the `createVault()` method, `implementation` is used as:

```solidity
// create vault
vault = address(new ERC1967Proxy(implementation, ''));
```

In the `tasks/eth-full-deploy.ts` and `tasks/eth-full-deploy-local.ts` deployment scripts, it looks like `implementation` is an instance of the following contracts:

* [EthVault](EthVault.sol.md)
* [EthPrivVault](EthPrivVault.sol.md)
* [EthBlocklistVault](EthBlocklistVault.sol.md)
* [EthErc20Vault](EthErc20Vault.sol.md)
* [EthPrivErc20Vault](EthPrivErc20Vault.sol.md)
* [EthBlocklistErc20Vault](EthBlocklistErc20Vault.sol.md)

In fact, we can see in the output of the `tasks/eth-full-deploy.ts` and `tasks/eth-full-deploy-local.ts` deployment scripts quadruplets like these:

```
EthVault deployed at 0x????????????????????????????????????????
EthVaultFactory deployed at 0x????????????????????????????????????????
Added EthVaultFactory to VaultsRegistry
Added EthVault implementation to VaultsRegistry
```

```
EthPrivVault deployed at 0x????????????????????????????????????????
EthVaultFactory deployed at 0x????????????????????????????????????????
Added EthPrivVaultFactory to VaultsRegistry
Added EthPrivVault implementation to VaultsRegistry
```

```
EthBlocklistVault deployed at 0x????????????????????????????????????????
EthVaultFactory deployed at 0x????????????????????????????????????????
Added EthBlocklistVaultFactory to VaultsRegistry
Added EthBlocklistVault implementation to VaultsRegistry
```

```
EthErc20Vault deployed at 0x????????????????????????????????????????
EthVaultFactory deployed at 0x????????????????????????????????????????
Added EthErc20VaultFactory to VaultsRegistry
Added EthErc20Vault implementation to VaultsRegistry
```

```
EthPrivErc20Vault deployed at 0x????????????????????????????????????????
EthVaultFactory deployed at 0x????????????????????????????????????????
Added EthPrivErc20VaultFactory to VaultsRegistry
Added EthPrivErc20Vault implementation to VaultsRegistry
```

```
EthBlocklistErc20Vault deployed at 0x????????????????????????????????????????
EthVaultFactory deployed at 0x????????????????????????????????????????
Added EthBlocklistErc20VaultFactory to VaultsRegistry
Added EthBlocklistErc20Vault implementation to VaultsRegistry
```

The first thing to notice is that there are multiple `EthVaultFactory`.

So, it seems like you have to get the `address` of the `EthVaultFactory` (from the output of the deployment script) for the vault-type that you want.

## Is

EthVaultFactory is:

* [IEthVaultFactory](../../../contracts/interfaces/IEthVaultFactory.sol.md)

## Internal Variables

* `IVaultsRegistry internal immutable _vaultsRegistry` — [IVaultsRegistry](../../../contracts/interfaces/IVaultsRegistry.sol.md)

## Public Variables

* `address public immutable override implementation` 

* `address public override ownMevEscrow`

* `address public override vaultAdmin`
